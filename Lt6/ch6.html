<!DOCTYPE html>
<html lang="en"> 
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
   
    <title>行動商務與系統發展</title> 
    <link href="css/bootstrap-4.4.1.css" rel="stylesheet">
    <link rel=stylesheet type="text/css" href="css/style.css">
    <!--script src="js/custom.js"></script>-->
  </head>
<body>

<!--navigation **************************************************************************************************** navigation -->
<div >
  <nav id="van" class="navbar navbar-expand-lg navbar-dark nav-nobg fixed-top" role="navigation" >
   
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul style="margin-left: 50px;" class="navbar-nav mr-auto navbar-left">
        <li class="nav-item dropdown"><!-- ch1 -->
          <a class="nav-link dropdown-toggle nav-nobg" href="../Lt1/ch1.html" id="navbarDropdown" 
          data-toggle="dropdown" role="button" aria-haspopup="true"  aria-expanded="false" style="border-radius: 20px; color: orangered;">
          1</a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="../Lt1/ch1.html">第1章 簡介</a>  
            <a class="dropdown-item" href="../Lt1/ch1.html#no1">上課相關規定</a>
            <a class="dropdown-item" href="../Lt1/ch1.html#no2">1.開發 iOS APP 需要準備什麼?</a>
            <a class="dropdown-item" href="../Lt1/ch1.html#no3">2 MAC作業系統基本操作</a>
            <a class="dropdown-item" href="../Lt1/ch1.html#no4">3 建立APPLE ID，使用自己的APPLE ID建立MAC帳號和環境</a>
            <a class="dropdown-item" href="../Lt1/ch1.html#no5">4 練習去Apple store安裝壓縮軟體</a>
            <a class="dropdown-item" href="../Lt1/ch1.html#no6">5 熟悉Xcode環境簡介</a>
            <a class="dropdown-item" href="../Lt1/ch1.html#no7">6 Hello World</a>
            <a class="dropdown-item" href="../Lt1/ch1.html#no8">7 問題和練習</a>
            
          </div>
        </li>
        <li class="nav-item dropdown"><!-- CFP -->
          <a class="nav-link dropdown-toggle  nav-nobg" href="calls.html" id="navbarDropdown" 
          data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" style="border-radius: 20px; color: orangered;">
          2</a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="../Lt2/ch2.html">第2章 Swift快跑</a>             
            <a class="dropdown-item" href="../Lt2/ch2.html#no1">1. 基本語法</a>
            <a class="dropdown-item" href="../Lt2/ch2.html#no2">2. tuples</a>
            <a class="dropdown-item" href="../Lt2/ch2.html#no3">3. optionals</a>
            <a class="dropdown-item" href="../Lt2/ch2.html#no4">4. 條件式和迴圈</a>
            <a class="dropdown-item" href="../Lt2/ch2.html#no5">5. Function</a>
            <a class="dropdown-item" href="../Lt2/ch2.html#no6">6. 類別</a>
            <a class="dropdown-item" href="../Lt2/ch2.html#no7">7. 閉包</a>
          </div>
        </li>
        
        <li class="nav-item dropdown"><!-- Registration-->
          <a class="nav-link dropdown-toggle  nav-nobg" href="calls.html" id="navbarDropdown" 
          data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" style="border-radius: 20px; color: orangered;">
          3</a>              
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="../Lt3/ch3.html">第3章 app基礎練習</a>         
            <a class="dropdown-item" href="../Lt3/ch3.html#no1">1. 熟悉XCODE各個面板部位和操作</a>
            <a class="dropdown-item" href="../Lt3/ch3.html#no2">2. TEXT元件和屬性設定</a>
            <a class="dropdown-item" href="../Lt3/ch3.html#no3">3. VStack+HStack+ZStack+Spacer()</a>
            <a class="dropdown-item" href="../Lt3/ch3.html#no4">4. Button、@State 《從變數傳值到元件》</a>
            <a class="dropdown-item" href="../Lt3/ch3.html#no5">5. Textfield、$ 《變數和元件雙向傳值》</a>
            <a class="dropdown-item" href="../Lt3/ch3.html#no6">6. subview和@Binding</a>
            <a class="dropdown-item" href="../Lt3/ch3.html#no7">7. 習題</a>
          </div>
        </li>

        <li class="nav-item dropdown"><!-- Registration-->
          <a class="nav-link dropdown-toggle  nav-nobg" href="calls.html" id="navbarDropdown" 
          data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" style="border-radius: 20px; color: orangered;">
          4</a>               
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="../Lt4/ch4.html">第4章  Button進階</a>      
            <a class="dropdown-item" href="../Lt4/ch4.html#no1">1. 新增viewcontroller及其類別並建立連結</a>
            <a class="dropdown-item" href="../Lt4/ch4.html#no2">1. Image的使用</a>
            <a class="dropdown-item" href="../Lt4/ch4.html#no2">2. Button《image》</a>
            <a class="dropdown-item" href="../Lt4/ch4.html#no3">3. ICON《SF Symbols》</a>
            <a class="dropdown-item" href="../Lt4/ch4.html#no4">4. Label《文字+ICON》</a>
            <a class="dropdown-item" href="../Lt4/ch4.html#no5">5. Button《Label》</a>
            <a class="dropdown-item" href="../Lt4/ch4.html#no6">6. Button-buttonStyle-動畫</a>
            <a class="dropdown-item" href="../Lt4/ch4.html#no7">7. 習題</a>
          </div>
        </li>
        <li class="nav-item dropdown"><!-- Registration-->
          <a class="nav-link dropdown-toggle nav-nobg" href="calls.html" id="navbarDropdown" 
          data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" style="border-radius: 20px; color: orangered;">
          5</a>            
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="../Lt5/ch5.html#no0">第5章 清單和導覽列的使用</a>  
            <a class="dropdown-item" href="../Lt5/ch5.html#no1">1. 準備好UITableviewcontroller，設定起始頁面</a>
            <a class="dropdown-item" href="../Lt5/ch5.html#no2">2. 建立一段程式碼，然後和UITableviewcontroller產生關聯</a>
            <a class="dropdown-item" href="../Lt5/ch5.html#no3">3. 為自訂cell建立類別並且和自訂cell產生關聯</a>
            <a class="dropdown-item" href="../Lt5/ch5.html#no4">4. 設定cell</a>
            <a class="dropdown-item" href="../Lt5/ch5.html#no5">5. 在CustomTableViewCell類別建立自訂元件的變數</a>
            <a class="dropdown-item" href="../Lt5/ch5.html#no6">6. 提供資料來源給自訂的CustomTableViewCell</a>
            <a class="dropdown-item" href="../Lt5/ch5.html#no7">7. 讓cell的影像由方形變成圓形</a>
            <a class="dropdown-item" href="../Lt5/ch5.html#no8">8. Label如何摺行</a>
            <a class="dropdown-item" href="../Lt5/ch5.html#no9">9. 習題</a>
          </div>
        </li>
        <li class="nav-item dropdown"><!-- Registration-->
          <a class="nav-link dropdown-toggle  nav-nobg" href="calls.html" id="navbarDropdown" 
          data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" style="border-radius: 20px; color: orangered;">
          6</a>            
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="../Lt6/ch6.html">第6章 如何不用nevigationView來控制要顯示那一個view?</a>
            <a class="dropdown-item" href="../Lt6/ch6.html#no1">1. 建立一個view的主控版，利用binding的變數來控制要顯示那一個view</a>
            <a class="dropdown-item" href="../Lt6/ch6.html#no2">2. 實現自動登入</a>
            <a class="dropdown-item" href="../Lt6/ch6.html#no3">3. 使用tabView來進行畫面轉移自動登入</a>
            <a class="dropdown-item" href="../Lt6/ch6.html#no4">4. 習題</a>
          </div>
        </li>
        <li class="nav-item dropdown"><!-- Registration-->
          <a class="nav-link dropdown-toggle  nav-nobg" href="calls.html" id="navbarDropdown" 
          data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" style="border-radius: 20px; color: orangered;">
          7</a>            
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="../Lt7/ch7.html">第7章 APP和伺服器如何交換資料</a>
            <a class="dropdown-item" href="../Lt7/ch7.html#no1">1. 不帶資料給伺服器，單純接收response</a>
            <a class="dropdown-item" href="../Lt7/ch7.html#no2">2. 如何帶訊息給伺服器？（例如帳號密碼）</a>
            <a class="dropdown-item" href="../Lt7/ch7.html#no3">3. 什麼是JSON？練習用JSON格式帶資料給伺服器</a>
            <a class="dropdown-item" href="../Lt7/ch7.html#no4">4. 使用JSON格式讀取JSON file？</a>
            <a class="dropdown-item" href="../Lt7/ch7.html#no5">5. 使用JSON與伺服器進行資料交換JSON？</a>
            <a class="dropdown-item" href="../Lt7/ch7.html#no6">6. 習題</a>
          </div>
        </li>
        <li class="nav-item dropdown"><!-- Registration-->
          <a class="nav-link dropdown-toggle nav-nobg" href="calls.html" id="navbarDropdown" 
          data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" style="border-radius: 20px; color: orangered;">
          8</a>            
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="../Lt8/ch8.html">第8章 EnvironmentObject和Published</a>
            <a class="dropdown-item" href="../Lt8/ch8.html#no1">1 將帳密送到伺服器驗證後，View再根據驗證結果進行顯示</a>
            <a class="dropdown-item" href="../Lt8/ch8.html#no2">2 作業</a>
          </div>
        </li>
        <li class="nav-item dropdown"><!-- Registration-->
          <a class="nav-link dropdown-toggle nav-nobg" href="calls.html" id="navbarDropdown" 
          data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" style="border-radius: 20px; color: orangered;">
          9</a>            
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="../Lt9/ch9.html">第9章 使用JSON格式讀取伺服器資料</a>
            <a class="dropdown-item" href="../Lt9/ch9.html#no1">1. 甚麼是json</a>
            <a class="dropdown-item" href="../Lt9/ch9.html#no2">2. 練習一和二的說明</a>
            <a class="dropdown-item" href="../Lt9/ch9.html#no3">3. 練習的環境準備</a>
            <a class="dropdown-item" href="../Lt9/ch9.html#no4">4. 練習一、從一個本地端的JSON file讀取資料放到那三個Label中</a>
            <a class="dropdown-item" href="../Lt9/ch9.html#no5">5. 如何使用PHP語言寫伺服器程式，當客戶端呼叫這個程式就會傳回JSON格式資料</a>
            <a class="dropdown-item" href="../Lt9/ch9.html#no6">6. 練習二、從遠端透過HTPP協定讀取JSON資料放到那三個Label中</a>
            <a class="dropdown-item" href="../Lt9/ch9.html#no7">7. 多執行緒的概念，以及有些動作只能在main執行緒做，應該怎麼解決?</a>
            <a class="dropdown-item" href="../Lt9/ch9.html#no8">8. 作業 1</a>
            <a class="dropdown-item" href="../Lt9/ch9.html#no9">9. 練習三、下載遠端圖檔</a>
            <a class="dropdown-item" href="../Lt9/ch9.html#no10">10. 練習四、如何傳送帳密到伺服器中驗證</a>
            <a class="dropdown-item" href="../Lt9/ch9.html#no11">11. 作業 2</a>
            <a class="dropdown-item" href="../Lt9/ch9.html#no12">12. 補充資料 會員帳密管理的伺服器程式碼（php+apache+mysql）</a>
            <a class="dropdown-item" href="../Lt9/ch9.html#no13">13. 補充資料 CLGeocoder - 經緯度和地址 互換</a>        
          </div>
        </li>
        <li class="nav-item dropdown"><!-- Registration-->
          <a class="nav-link dropdown-toggle nav-nobg" href="calls.html" id="navbarDropdown" 
          data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" style="border-radius: 20px; color: orangered;">
          10<a>            
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="../Lt10/ch10.html">第10章 CocoaPods & Firebase的使用</a>
          </div>
        </li>
        <li class="nav-item dropdown"><!-- Registration-->
          <a class="nav-link dropdown-toggle nav-nobg" href="calls.html" id="navbarDropdown" 
          data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" style="border-radius: 20px; color: orangered;">
          11</a>            
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="../Lt11/ch11.html">第11章 使用UIImagePickerController拍照和相簿存取</a>
          </div>
        </li>
        <li class="nav-item dropdown"><!-- Registration-->
          <a class="nav-link dropdown-toggle nav-nobg" href="calls.html" id="navbarDropdown" 
          data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" style="border-radius: 20px; color: orangered;">
          12</a>            
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="../Lt12/ch12.html"> 第12章 擴增專案功能，讓會員可以拍照上傳以及評論</a>
          </div>
        </li>
        <li class="nav-item dropdown"><!-- Registration-->
          <a class="nav-link dropdown-toggle nav-nobg" href="calls.html" id="navbarDropdown" 
          data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" style="border-radius: 20px; color: orangered;">
          13</a>            
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="../Lt13/ch13.html">第13章 統整專案，進行優化，開放會員新增餐廳</a>
          </div>
        </li>
      </ul>
    </div>
  </nav>
  <p style=" position: fixed; top: 0; right: 0;z-index: 5000; color:chocolate;margin-right: 5px;  border-radius: 5px;
  padding: 0px 3px;">
  第6章 如何不用nevigationView來控制要顯示那一個view?
</p>
  <p style=" font-size:0.8em; position: fixed; bottom: 0; right: 0;z-index: 5000; color:white;
  font-weight: bold;margin-right: 5px; background-color: chocolate; border-radius: 5px;
  padding: 0px 3px;"><a style="color: aliceblue; font-size: 1.5em; " href="../index.html">回首頁</a></p>
</div>
  
<!--below is the content**************************************************************************************below is the content -->
  <div  style="margin-top: 80px;">
     
    <div style="margin: auto; width: 96%; text-align: left; border-bottom: 1px solid darkgrey; "> 
      <section  id="no1"> <!--1. 建立一個view的主控版，利用binding的變數來控制要顯示那一個view-->
        <h2 >1. 建立一個view的主控版，利用binding的變數來控制要顯示那一個view</h2>
        <h4>
          NavigationView可以實現階層式的無條件view的轉換，那麼如果是非階層的條件式view的轉移該怎麼做？
        </h4>
        <h5>
          例如，<br>
          登入成功時，畫面跳轉到系統主畫面，<br>
          又例如<br>
          在系統主畫面按下登出按鈕，畫面回到登入畫面，<br><br>
          這種就是所謂的《以程式控制來轉移畫面》。<br>
          如下圖，使用contentView 當作主控板，<br>
          利用<br>
          <ui>
            <li>need_login的bool來決定你是否需要登入</li>
            <ul>
              <li>true：表示需要登入，就引導到登入畫面</li>
              <li>false：則跳到vid的那個view</li>
            </ul>
            <li>VID決定要顯示那一個VID</li>
            <p>每一個view都預設一個vid，在已登入的情況下，可以指定vid來顯示該view</p>
          </ui>
        </h5>     
        <p> <img src="images/n01.png" alt=""></p>
        <div><h3>1 先建立好SystenView </h3> 
          <h4 style="background-color: gold;">先新增一個View，取名SystemView</h4>      
          <h5>如下圖自己建立程式碼，下面是要求
            <ol>
              <li>加入綁定變數 need_login 和 vid</li>
                  <ul>
                    <li>要用@State還是@Binding？為什麼？</li>
                    <li>兩者資料形態為何？</li>
                    <li>可以先給值嗎？？為什麼？</li>
                  </ul>      
                          
              <li>按照下方圖示加入Text和Button</li>
              <li>Button的文字是登出按下後，應該指定need_login和vid（應該如何給值？）</li>
              <li>最下面的preView把他給remark掉(為什麼？）</li>
            </ol>
          </h5>    
          <p> <img src="images/n02.png" alt=""></p>
        </div>
        <div><h3>2 建立登入畫面 </h3>   
          <h4 style="background-color: gold;">先新增一個View，取名LoginView</h4>       
          <h5>       
          <ul>
            <li>把CH4的login作業的程式拷貝過來（名字該改的改好）</li>
            <li>加入綁定變數 need_login 和 vid</li>
                <ul>
                  <li>要用@State還是@Binding？為什麼？</li>
                  <li>兩者資料形態為何？</li>
                  <li>可以先給值嗎？？為什麼？</li>
                </ul>      
            <li>下面程式修改一下</li>
            <p>Text(x ? ((acc == acc2 && pwd == pwd2) ? "登入成功" : "登入失敗" ) : "")</p>
            <p>登入成功直接跳到系統主畫面，所以需要顯示登入成功嗎？</p>
            <li>按下登入按鈕要去驗證帳密，驗證成功指定nedd_login和vid（該給多少？）</li>
            <li>最下面的preView把他給remark掉(為什麼？）</li>
          </ul>
        </h5>
        </div>
        <div><h3>3 設定ContentView </h3>           
          <p>接下來換主畫面</p>
          <h5>
            <ul>
              <li>加入綁定變數 need_login 和 vid</li>
                  <ul>
                    <li>要用@State還是@Binding？為什麼？</li>
                    <li>兩者資料形態為何？</li>
                    <li>可以先給值嗎？？為什麼？</li>
                  </ul>      
               <li>最下面的preView可以留著嗎？(為什麼？）</li>
              <li>寫一下下面邏輯</li>
              <h4>如果need_login是true則跳到LoginView，false則檢查vid，跳到vid的view</h4>
            </ul>
          </h5>
        </div>
        <div><h3>4 修改 主程式的WindowGroup的啟動View </h3>           
          <p>ContentView()為什麼有錯誤？如何修正？</p>
          <h4>vid設定多少是不是很重要？為什麼？</h4>
        </div>
    

      </section>
      <section id="no2"><h2>2. 實現自動登入</h2><!--2. 實現自動登入-->
        <h4>一般app在登入後，除非登出，否則不用每次登入是因為他會在登入後把一些資訊放到UserDefaults</h4>
        <div><h3>1 什麼是userDefaults </h3>           
         <h4>
           UserDefault用來儲存一些簡單資訊，
           在app關掉之後，不會消失，再次打開app仍可以讀取，
           除非移除app，否則資訊會一直存在，下面是會用到的方法    
            <ul>
              <li>寫入UserDefaults</li>
                  <p>UserDefaults.standard.set( <span style="color: red;">《可以是整數、布爾值、字典、日期等等》</span>, forKey: &quot;need_login&quot;)<br>
                   
                  <p>UserDefaults.standard.set( <span style="color: red;">true</span>, forKey: &quot;need_login&quot;)<br>
                    寫入一組資料key和value，這行程式《寫入key為need_login，value為true》</p>
              <li>自UserDefaults讀出資料</li>
              <p>若是字串</p>
                  <p> x=UserDefaults.standard.string(forKey: &quot;need_login&quot;)<br>
                    <p>若是BOOL，以此類推</p>
                        <p> x=UserDefaults.standard.bool(forKey: &quot;need_login&quot;)<br>
              <li>自UserDefaults移除資料</li>
                  <p>UserDefaults.standard.removeObject(forKey: &quot;need_login&quot;)<br>
                    移除key值為need_login</p>
            </ul>
          </h4> 
    <p>&nbsp;</p>
        </div>
        <div><h3>2 利用UserDefaults完成自動登入 </h3>           
          <h4>利用前述UserDefaults方法完成下面動作
            <ol>
              <li>登入成功寫入key="need_login" value=false</li>
              <li>登出時寫入ey="need_login" value=true</li>
              <li>主程式中讀取key值=need_login的BOOL當作WindowGroup的啟動View的need_login參數</li>
            </ol>
          </h4>
        </div>
      </section>
      <section id="no3"><h2>3. 使用tabView來進行畫面轉移自動登入</h2>
        <h4>這邊試著建立一個基本app框架,
          接續上面結果 把系統主畫面改成tabView的分頁，藉由分頁來控制整個系統所有頁面轉移
        </h4>
        <div><h3>1 新建一個 TabView取代剛剛的SystemView </h3>           
         <h4>
            <ol>
              <li>新增兩個view檔案，拷貝兩個程式過來1.將ch5的作業12星座，2.ch5的餐廳進度檔案</li>
              <li>新增一個view檔案改名systemTab，如下</li>
              <img src="images/n03.png" alt="">
              <li>新增一個view檔案改名systemTab，拉進來一個TabView建立一個</li>
                  
              
            </ol>
          </h4> 
        </div>
        
      </section>
      <section id="no4"><h2>4. 習題</h2>
    
        <p>不要看著講義做完成上述練習</p>
      </section>
    
    </div>
 
    
  </div>  
<!--footer *****************************************************************************************************************footer  -->
    
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="js/jquery-3.4.1.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap-4.4.1.js"></script>
</body>
</html>
